<p-toast />
<p-confirmpopup />

<div fxLayout="column" fxLayoutAlign="center">
    <div fxLayout="column" fxFlex="75%">
        <form #buscaForm="ngForm" class="mt-60">
            <p-card header="Consulta">
                <div class="mt-20">
                    <div fxLayout="row">
                        <p-floatlabel variant="on" fxFlex="100%">
                            <input [(ngModel)]="pesquisa" name="pesquisa" pInputText id="pesquisa" autocomplete="on"
                                class="full-width" type="text" (ngModelChange)="pesquisaClientes()" />
                            <label for="pesquisa">Pesquisar</label>
                        </p-floatlabel>

                    </div>
                </div>
            </p-card>
        </form>
    </div>
    <div class="mt-20" fxFlex="80%">
        <p-table [rows]="10" [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true" [value]="clientes"
            [tableStyle]="{ 'min-width': '50rem' }" sortField="dataNascimento" [sortOrder]="-1">
            <ng-template #header>
                <tr>
                    <th>Id</th>
                    <th pSortableColumn="nome">Nome <p-sortIcon field="nome" /></th>
                    <th pSortableColumn="email">Email <p-sortIcon field="email" /></th>
                    <th pSortableColumn="dataNascimento">Data de nascimento <p-sortIcon field="dataNascimento" /></th>
                    <th></th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template #body let-cliente>
                <tr>
                    <td>{{ cliente.id }}</td>
                    <td>{{ cliente.nome }}</td>
                    <td>{{ cliente.email }}</td>
                    <td>{{cliente.dataNascimento}}</td>
                    <td><p-button variant="text" severity="secondary" rounded icon="pi pi-chevron-right"
                            (click)="selecionarCliente(cliente)" /></td>
                    <td>
                        <p-button variant="text" severity="secondary" rounded icon="pi pi-trash"
                            (click)="deletarCliente($event, cliente)" />
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>